<script type="text/javascript">
    var role;

    var session_alert= setInterval(function(){
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange=function(){
            if(this.readyState == this.DONE && this.status == 200){
                var session = xhttp.responseText.trim();
                if (session == "null") {
                    window.location = "login.jsp"; 
                } 
            }
        }
        xhttp.open("GET", "./role_check.jsp?");
        xhttp.send();
    }, 60000);   


    jQuery(document).ready(function(){

        var xhttp_role = new XMLHttpRequest();
        xhttp_role.onreadystatechange=function(){
            if(this.readyState == this.DONE && this.status == 200){
                role = xhttp_role.responseText.trim();
                console.log("role: "+role);
                if(role != "Administrator"){
                    document.getElementById("admin_menu").remove();
                    document.getElementById("log_menu").remove();
                }
            }
        }
        xhttp_role.open("GET", "./role_check.jsp?");
        xhttp_role.send();
    })


</script>

<a class="sidebar-brand" href="dashboard.html">
    <i class="align-middle" data-feather="navigation"></i>
    <span class="align-middle">SCRN</span>
</a>

<ul class="sidebar-nav">
    <li class="sidebar-item">
        <a href="dashboard.html" class="sidebar-link">
            <i class="align-middle" data-feather="sliders"></i> <span class="align-middle">Dashboard</span>
        </a>
    </li>
    <li class="sidebar-item active">
        <a href="projects.html" class="sidebar-link">
            <i class="align-middle" data-feather="map-pin"></i> <span class="align-middle">Projects</span>
        </a>
    </li>
    <li class="sidebar-item">
        <a class="sidebar-link" href="user_define.html">
            <i class="align-middle" data-feather="package"></i> <span class="align-middle">User Define Set</span>
        </a>
    </li>
    <li class="sidebar-item">
        <a href="account.html" class="sidebar-link">
            <i class="align-middle" data-feather="user"></i> <span class="align-middle">My Account</span>
        </a>
    </li>
    <li class="sidebar-item" id="admin_menu">
        <a class="sidebar-link" href="admin.html">
            <i class="align-middle" data-feather="edit"></i> <span class="align-middle">Admin</span>
        </a>
    </li>
    <li class="sidebar-item" id="log_menu">
        <a class="sidebar-link" href="log.html">
            <i class="align-middle" data-feather="pocket"></i> <span class="align-middle">Log Viewer</span>
        </a>
    </li>
    
</ul>
<script>
    feather.replace()
</script>
<script src="../js/feather.js"></script>
